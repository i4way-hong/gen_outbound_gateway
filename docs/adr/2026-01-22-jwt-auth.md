# ADR-2026-01-22: JWT 기반 인증 도입

## 상태
- 승인됨 (구현 완료)

## 컨텍스트
- 기존 Basic Auth는 단순하지만, 외부 연동·다수 클라이언트 사용 시 확장성이 낮고 매 요청에 비밀번호가 포함되는 구조였다.
- 토큰 기반 인증이 필요했고, 최소 구현으로 Access/Refresh 토큰을 발급해 Bearer 방식으로 API를 보호해야 했다.
- Redis/DB 기반 Refresh 토큰 저장소와 Role 기반 세부 권한 정책은 후속 단계로 계획되었다.

## 결정
- Spring Security를 **JWT Bearer 인증**으로 전환한다.
- `/auth/login`, `/auth/refresh` 엔드포인트를 제공한다.
- JWT 서명은 HMAC(SHA-256)을 사용한다.
- 운영 환경에서는 `JWT_SECRET`(32바이트 이상)을 필수로 하고, 미설정 시 개발 편의를 위해 임시 키를 생성한다.
- Swagger(OpenAPI)에 Bearer 보안 스키마를 등록한다.

## 결과
### 장점
- 스테이트리스 인증으로 확장성 개선
- 클라이언트 통합/자동화(Postman/외부 시스템 연동) 용이
- 토큰 만료 정책을 통해 보안 강화

### 단점/제약
- Refresh 토큰 저장소 미도입 상태에서는 토큰 회수/강제 만료가 제한됨
- Role 기반 세부 접근 제어 정책은 후속 작업이 필요함

## 후속 작업(계획)
- Refresh 토큰 저장소(Redis/DB) 도입 및 토큰 회전 적용
- Role 기반 API 접근 제어 정책 수립 및 컨트롤러 적용
- Swagger 문서에 Role 요구사항 표기

## 관련 변경
- `SecurityConfig` JWT 필터 적용 및 stateless 설정
- `AuthController`, `AuthService`, `JwtTokenProvider`, `JwtAuthenticationFilter` 추가
- `application.yml` 및 테스트 환경 JWT 설정 추가
- `README.md`, `docs/works/2026-01-22-jwt-auth.md` 문서화
